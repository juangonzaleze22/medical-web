<div class="form_login">
    <h2 class="form_login__title">¡Registrate!</h2>
    <p class="form_login__description">Registrate para agendar tu cita medica</p>
  
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
            <mat-form-field appearance="outline">
              <mat-label>Name</mat-label>
              <input matInput placeholder="pat@example.com" formControlName="displayName" />
            </mat-form-field>
            @for( validation of RegisterValidationMessages.displayName; track $index) {
              @if (f['displayName'].hasError(validation.type) &&
                (f['displayName'].dirty || f['displayName'].touched)) {
              <mat-error>{{ validation.message }}</mat-error>
              }
            }
          </div>
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input matInput placeholder="pat@example.com" formControlName="email" />
        </mat-form-field>
        @for( validation of RegisterValidationMessages.email; track $index) {
          @if (f['email'].hasError(validation.type) &&
            (f['email'].dirty || f['email'].touched)) {
          <mat-error>{{ validation.message }}</mat-error>
          }
        }
      </div>
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" autocomplete="off"/>
          <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hidePassword" type="button">
            <mat-icon>{{!hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </mat-form-field>
        @for( validation of RegisterValidationMessages.password; track $index) {
          @if (f['password'].hasError(validation.type) &&
            (f['password'].dirty || f['password'].touched)) {
            <mat-error>{{ validation.message }}</mat-error>
          }
        }
      </div>
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label>Confirmar Password</mat-label>
          <input matInput [type]="hidecPassword ? 'password' : 'text'" formControlName="cpassword" autocomplete="off"/>
          <button mat-icon-button matSuffix (click)="hidecPassword = !hidecPassword" [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hidecPassword" type="button">
            <mat-icon>{{!hidecPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
          </button>
        </mat-form-field>
        @for( validation of RegisterValidationMessages.cpassword; track $index) {
          @if (f['cpassword'].hasError(validation.type) &&
            (f['cpassword'].dirty || f['cpassword'].touched)) {
            <mat-error>{{ validation.message }}</mat-error>
          }
        }
      </div>
      <p class="form_login__register">¿Ya tienes cuenta? <a [routerLink]="['/login']" >¡Inicia sesión!</a></p>
      <button 
        class="form_login__button"
        mat-flat-button color="accent"
        [disabled]="loading || this.registerForm.invalid"
        [class.spinner]="loading"
      >
        Registrar
      </button>
    </form>
    <div class="or-divider">O ingresa con: </div>
      <div class="social-buttons">
        <button mat-fab  color="basic" (click)="registerWithGoogle()">
          <mat-icon><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M20.283 10.356h-8.327v3.451h4.792c-.446 2.193-2.313 3.453-4.792 3.453a5.27 5.27 0 0 1-5.279-5.28 5.27 5.27 0 0 1 5.279-5.279c1.259 0 2.397.447 3.29 1.178l2.6-2.599c-1.584-1.381-3.615-2.233-5.89-2.233a8.908 8.908 0 0 0-8.934 8.934 8.907 8.907 0 0 0 8.934 8.934c4.467 0 8.529-3.249 8.529-8.934 0-.528-.081-1.097-.202-1.625z"></path></svg></mat-icon>
        </button>
      </div>
  </div>